Выполнено ДЗ № 3

Основное ДЗ

Задание со *

В процессе сделано:
Пункт 1
Исследовать способ подключения к someinternalhost в одну
команду c вашего рабочего устройства, проверить работоспособность
найденного решения и внести его в README.md в вашем репозитории
Команды:
ssh-agent -s eval "$(ssh-agent -s)" ssh-add -L
ssh -i ~/.ssh/id_rsa -A -tt appuser@51.250.11.59 ssh 10.128.0.35
Вывод:
Welcome to Ubuntu 20.04.4 LTS (GNU/Linux 5.4.0-120-generic x86_64)

* Documentation:  https://help.ubuntu.com
* Management:     https://landscape.canonical.com
* Support:        https://ubuntu.com/advantage
  Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings

Last login: Mon Jun 27 19:53:09 2022 from 10.128.0.17
appuser@someinternalhost:~$

Пункт 2
Создан VPN сервис для подключения к серверу someinternalhost с локальной
машины, при помощи конфигурационного файлв OTUS_test_server.ovpn

Как проверить работоспособность:
bastion_IP = 51.250.11.59
someinternalhost_IP = 10.128.0.35

#######################################################################################################
Выполнено ДЗ № 4
Работа с yacloud cly и деплой тестового приложения

Данные для Travis-CI
testapp_IP = 51.250.91.250
testapp_port = 9292

#######################################################################################################
Выполнено ДЗ № 5
1. Создал образ ВМ с помощью Packer, запустил на его основе инстанс, задеплоил приложение.
2. Создал файл с переменными для работы с Packer.


#######################################################################################################
Выполнено ДЗ № 6 Terraform#1
1. Установил terraform
2. Создал главный конфигурационный файл Terraform'а main.tf
3. Добавил провижинеров в main.tf, а так же добавил необходимые файлы для деплоя приложения
4. Сделал переменные
5. Задеплоил VM с приложением с помощью Terraform и образа, созданного в ДЗ №5
6. Проверил, что VM создается и доступна

#######################################################################################################
Выполнено ДЗ № 7  Terraform#2
1. Инфраструктура разобрана по модулям
2. Созданы два стенда: stage и prod
3. Развернул приложение на обоих стендах (из модулей)


#######################################################################################################
Выполнено ДЗ № 8  Ansible#1
1. Создана виртуалка с Ubuntu, так так Ansible не дружит с Windows к сожалению.
1. Настроил ansible и окружение
2. Развернул stage
3. Создал инвентори
4. Создал ansible.cfg
5. Перевел инвентори в YAML
6. Проверил работоспособность ansible с различными типа команд
7. Создан playbook и проверен

Выполнение playbook
При выполнении playbook, в случае наличия git-проекта, не меняет состояние каталогов (changed=0).
При выполнении playbook, в случае отсутствия git-проекта, меняет состояние каталога (changed=1)

#######################################################################################################
Выполнено ДЗ № 8  Ansible#1
1. Создана виртуалка с Ubuntu, так так Ansible не дружит с Windows к сожалению.
2. Настроил ansible и окружение
3. Развернул stage
4. Создал инвентори
5. Создал ansible.cfg
6. Перевел инвентори в YAML
7. Проверил работоспособность ansible с различными типа команд
8. Создан playbook и проверен
#######################################################################################################
Выполнено ДЗ № 9  Ansible#2
Использовал плейбуки, хендлеры и шаблоны для конфигурации окружения и деплоя тестового приложения.### При этом применялись следующие варианты подходов:
1)Один плейбук - один сценарий

В данном подходе создан плейбук reddit_app_one_play.yml с одним сценарием, содержащей конфигурирование MongoDB, деплой приложения и конфигурирование приложения.
2)Один плейбук - много сценариев

В данном подходе создан плейбук reddit_app_multiple_plays.yml с тремя сценариями, содержащими, соответственно, конфигурирование MongoDB, деплой приложения и конфигурирование приложения.
3)Много плейбуков

В данном подходе были созданы 3 плейбука - db.yml, deploy.yml и app.yml, которые содержат, соответственно, сценарии по конфигурированию MongoDB, деплою приложения и конфигурированию приложения.

###2. Изменил provisioners образов Packer на Ansible-плейбуки.
#######################################################################################################
Выполнено ДЗ № 10  Ansible#3
1. Разбил логику на роли: app, db
2. Сделал два окружения: stage, prod
3. Добавил nginx-роль для работы приложения на 80 порту
4. Зашифровал плейбук с созданием пользователей
